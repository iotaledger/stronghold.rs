<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons"><title data-react-helmet="true">Structure: Client | IOTA Stronghold</title><meta data-react-helmet="true" property="og:url" content="https://stronghold.docs.iota.org//docs/structure/client"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Structure: Client | IOTA Stronghold"><meta data-react-helmet="true" name="description" content="| | | |"><meta data-react-helmet="true" property="og:description" content="| | | |"><link data-react-helmet="true" rel="shortcut icon" href="/img/logo/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://stronghold.docs.iota.org//docs/structure/client"><link data-react-helmet="true" rel="alternate" href="https://stronghold.docs.iota.org//docs/structure/client" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://stronghold.docs.iota.org//docs/structure/client" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.de82c9ab.css">
<link rel="preload" href="/assets/js/runtime~main.d54a7aa0.js" as="script">
<link rel="preload" href="/assets/js/main.63f66f6f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo/Logo_Swirl_Dark.png" alt="IOTA" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo/Logo_Swirl_Dark.png" alt="IOTA" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Stronghold</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/welcome">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/iotaledger/Stronghold" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/welcome">Welcome</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Structure</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/structure/overview">Overview</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/structure/client">Client</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Engine</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/structure/communication">Communication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/structure/derive">Derive</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/structure/utils">Utils</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/products">Products</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Specification</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/retrospective">Retrospective</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contribute">Contribute</a></li><li class="menu__list-item"><a href="https://github.com/iotaledger/stronghold.rs" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Structure: Client</h1></header><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td><a href="https://github.com/iotaledger/stronghold.rs/tree/dev/client" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/github-source-blue.svg" alt="github"></a></td><td><a href="https://docs.rs/iota_stronghold" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/rust-docs-green.svg" alt="github"></a></td><td><a href="https://crates.io/crates/iota_stronghold" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/crates/v/iota_stronghold.svg"></a></td></tr></tbody></table><p></p><h2>Stronghold Client</h2><p>This is the official client layer of Stronghold. It uses the Riker actor model and provides an easy interface which acts as a functional passthrough to Stronghold&#x27;s internal actor system. </p><p><strong>Stronghold Interface</strong>: </p><ul><li><code>init_stronghold_system</code>: Initializes a new instance of the Stronghold system.  Sets up the first client actor. Accepts a <code>ActorSystem</code>, the first <code>client_path</code>: <code>Vec&lt;u8&gt;</code> and any <code>StrongholdFlags</code> which pertain to the first actor.</li><li><code>spawn_stronghold_actor</code>:  Spawns a new set of actors for the Stronghold system. Accepts the <code>client_path</code>: <code>Vec&lt;u8&gt;</code> and the options: <code>StrongholdFlags</code></li><li><code>switch_actor_target</code>: Switches the actor target to another actor in the system specified by the <code>client_path</code>: <code>Vec&lt;u8&gt;</code>.</li><li><code>write_to_vault</code>:  Writes data into the Stronghold. Uses the current target actor as the client and writes to the specified location of <code>Location</code> type. The payload must be specified as a <code>Vec&lt;u8&gt;</code> and a <code>RecordHint</code> can be provided. Also accepts <code>VaultFlags</code> for when a new Vault is created.</li><li><code>write_to_store</code>: Writes data into an insecure cache. This method, accepts a <code>Location</code>, a <code>Vec&lt;u8&gt;</code> and an optional <code>Duration</code>. The lifetime allows the data to be deleted after the specified duration has passed. If not lifetime is specified, the data will persist until it is manually deleted or over-written. Each store is mapped to a client. </li><li><code>read_from_store</code>: Reads from an insecure cache. This method, accepts a <code>Location</code> and returns the payload in the
form of a <code>Vec&lt;u8&gt;</code>.  If the location does not exist, an empty vector will be returned along with an error <code>StatusMessage</code>.</li><li><code>delete_from_store</code> - delete data from an insecure cache. This method, accepts a <code>Location</code> and returns a <code>StatusMessage</code>.</li><li><code>delete_data</code>: Revokes the data from the specified location of type <code>Location</code>. Revoked data is not readable and can be removed from a vault with a call to <code>garbage_collect</code>.  if the <code>should_gc</code> flag is set to <code>true</code>, this call with automatically cleanup the revoke. Otherwise, the data is just marked as revoked. </li><li><code>garbage_collect</code>: Garbage collects any revokes in a Vault based on the given vault_path and the current target actor.</li><li><code>list_hints_and_ids</code>: Returns a list of the available <code>RecordId</code> and <code>RecordHint</code> values in a vault by the given <code>vault_path</code>. </li><li><code>runtime_exec</code>: Executes a runtime command given a <code>Procedure</code>.  Returns a <code>ProcResult</code> based off of the <code>control_request</code> specified.</li><li><code>record_exists</code>: Checks whether a record exists in the client based off of the given <code>Location</code>.</li><li><code>vault_exists</code>: Checks whether a vault exists in the client by <code>Location</code>.</li><li><code>read_snapshot</code>: Reads data from a given snapshot file. Can only read the data for a single <code>client_path</code> at a time. If the actor uses a new <code>client_path</code> the former client path may be passed into the function call to read the data into the new actor. A filename and filepath can be specified, if they aren&#x27;t provided, the path defaults to <code>$HOME/.stronghold/snapshots/</code> and the filename defaults to <code>backup.stronghold</code>.
Also requires keydata to unlock the snapshot and the keydata must implement and use <code>Zeroize</code>.</li><li><code>write_all_to_snapshot</code>:  Writes the entire state of the <code>Stronghold</code> into a snapshot. All Actors and their associated data is written into the specified snapshot. Requires keydata to encrypt the snapshot. The Keydata should implement and use Zeroize.  If a path and filename are not provided, uses the default path <code>$HOME/.stronghold/snapshots/</code> and the default filename <code>backup.stronghold</code>.</li><li><code>kill_stronghold</code>: Used to kill a stronghold actor or clear the cache of that actor. Accepts the <code>client_path</code>, and a boolean for whether or not to kill the actor.  If <code>kill_actor</code> is <code>true</code> both the internal actor and the client actor are killed. Otherwise, the cache is cleared from the client and internal actor. </li></ul><p><strong>Stronghold Procedures</strong>:</p><h5><strong>Requests</strong>:</h5><ul><li><code>SLIP10Generate</code>: Generate a raw SLIP10 seed of the specified size (in bytes, defaults to 64 bytes/512 bits) and store it in the <code>Location</code>. </li><li><code>SLIP10Derive</code>: Derive a Slip10 child key from a seed or parent key. Store the output in a specified <code>Location</code> and return the corresponding <code>ChainCode</code>. </li><li><code>BIP39Recover</code>: Use a BIP39 mnemonic sentence (optionally protected by a passphrase) to create or recover a BIP39 seed and store it in the output <code>Location</code>.</li><li><code>BIP39Generate</code>: Generate a BIP39 seed and its corresponding mnemonic sentence (optionally protected by a passphrase) and store them in the output <code>Location</code>.</li><li><code>BIP39MnemonicSentence</code>: Read a BIP39 seed and its corresponding mnemonic sentence (optionally protected by a passphrase) and store them in the output <code>Location</code>.</li><li><code>Ed25519PublicKey</code>: Derive an Ed25519 public key from the corresponding private key stored at the specified <code>Location</code>.</li><li><code>Ed25519Sign</code>: Use the specified Ed25519 compatible key to sign the given message. Compatible keys are any record that contain the desired key material in the first 32 bytes, in particular SLIP10 keys are compatible.</li></ul><h5><strong>Responses</strong>:</h5><ul><li><code>SLIP10Generate</code>: Returns a <code>StatusMessage</code> indicating the result of the request. </li><li><code>SLIP10Derive</code>: Returns a <code>ResultMessage</code> with the <code>ChainCode</code> inside of it. </li><li><code>BIP39Recover</code>: Returns a <code>StatusMessage</code> indicating the result of the request. .</li><li><code>BIP39Generate</code>: Returns a <code>StatusMessage</code> indicating the result of the request.</li><li><code>BIP39MnemonicSentence</code>: Returns the mnemonic sentence for the corresponding seed.</li><li><code>Ed25519PublicKey</code>: Returns an Ed25519 public key inside of a <code>ResultMessage</code>.</li><li><code>Ed25519Sign</code>: Returns an Ed25519 signature inside of a <code>ResultMessage</code>.</li></ul><p></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/iotaledger/stronghold.rs/tree/dev/documentation/docs/structure/client.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/structure/overview"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« IOTA Stronghold Structure</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/structure/engine"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Structure: Engine Â»</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/welcome">Welcome</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/overview">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/structure/overview">Structure</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/products">Products</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/retrospective">Retrospective</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contribute">Contribute</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/iotaledger/stronghold.rs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 IOTA Foundation, Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d54a7aa0.js"></script>
<script src="/assets/js/main.63f66f6f.js"></script>
</body>
</html>